<header
  class="py-2 px-4 bg-gray-100 fixed top-0 left-0 right-0 z-40 transition-all duration-300 ease-in-out"
  [ngClass]="{
    'md:ml-[232px]':
      sidebarService.sidebarVisible() && !sidebarService.isMobile(),
  }"
>
  <div
    class="h-14 rounded-lg flex items-center justify-between border border-gray-100"
  >
    <app-breadcrum />
    <div class="flex items-center gap-4 mx-4">
      <button
        class="transition-all text-gray-500 flex items-center cursor-pointer"
        (click)="sidebarService.toggleSidebar()"
      >
        <i class="material-symbols-rounded !text-[22px]">menu</i>
      </button>
      <button
        class="transition-all text-gray-500 flex items-center cursor-pointer"
        (click)="fullscreenService.toggle()"
      >
        <i class="material-symbols-rounded !text-[21px] pe-">
          {{
            fullscreenService.isFullscreen() ? "fullscreen_exit" : "fullscreen"
          }}
        </i>
      </button>
      <div
        class="relative inline-block"
        appClickOutside
        (clickOutside)="menuOpen.set(false)"
      >
        <button
          class="text-gray-500 flex items-center cursor-pointer"
          (click)="toggleMenu()"
        >
          <i class="material-symbols-rounded !text-[22px]">account_circle</i>
        </button>
        @if (menuOpen()) {
          <div
            class="absolute right-0 w-56 mt-2 origin-top-right bg-white border border-gray-200 divide-y divide-gray-100 rounded-md shadow-lg outline-none z-10"
          >
            <div class="px-4 py-3">
              <p class="text-sm text-gray-300 font-semibold">Inicio sesión</p>
              <p class="text-sm font-medium text-zinc-700 truncate">
                {{ username() }}
              </p>
            </div>
            <div class="py-1">
              <a
                class="flex items-center gap-1 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 mx-1 font-medium cursor-pointer rounded-lg"
                href="#"
                (click)="logout($event)"
              >
                <i class="material-symbols-rounded opacity-50">logout</i>
                Cerrar sesión
              </a>
            </div>
          </div>
        }
      </div>
    </div>
  </div>
</header>
